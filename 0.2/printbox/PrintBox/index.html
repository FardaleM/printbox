<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PrintBox (printbox.PrintBox)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">printbox</a> &#x00BB; PrintBox</nav><h1>Module <code>PrintBox</code></h1><h2 id="pretty-printing-of-nested-boxes"><a href="#pretty-printing-of-nested-boxes" class="anchor"></a>Pretty-Printing of nested Boxes</h2><p>Allows to print nested boxes, lists, arrays, tables in a nice way on any monospaced support.</p><pre><code class="ml"> # let b = PrintBox.(
     frame
       (vlist [ line &quot;hello&quot;;
                hlist [line &quot;world&quot;; line &quot;yolo&quot;]])
   );;
 val b : t = &lt;abstr&gt;

 # PrintBox.output ~indent:2 stdout b;;
 +----------+
 |hello     |
 |----------|
 |world|yolo|
 +----------+
 - : unit = ()

 # let b2 = PrintBox.(
     frame
       (hlist [ text &quot;I love\nto\npress\nenter&quot;;
                grid_text [| [|&quot;a&quot;; &quot;bbb&quot;|];
                             [|&quot;c&quot;; &quot;hello world&quot;|] |]])
   );;
 val b2 : PrintBox.t = &lt;abstr&gt;

 # PrintBox.output stdout b2;;
 +--------------------+
 |I love|a|bbb        |
 |to    |-+-----------|
 |press |c|hello world|
 |enter | |           |
 +--------------------+

- : unit = ()</code></pre><nav class="toc"><ul><li><a href="#box-combinators">Box Combinators</a></li><li><a href="#simple-structural-interface">Simple Structural Interface</a></li></ul></nav></header><dl><dt class="spec type" id="type-position"><a href="#type-position" class="anchor"></a><code><span class="keyword">type </span>position</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-position.x" class="anchored"><td class="def field"><a href="#type-position.x" class="anchor"></a><code>x : int;</code></td></tr><tr id="type-position.y" class="anchored"><td class="def field"><a href="#type-position.y" class="anchor"></a><code>y : int;</code></td></tr></table><code>}</code></dt><dd><p>Positions are relative to the upper-left corner, that is, when <code>x</code> increases we go toward the right, and when <code>y</code> increases we go toward the bottom (same order as a printer)</p></dd></dl><section><header><h2 id="box-combinators"><a href="#box-combinators" class="anchor"></a>Box Combinators</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code></dt><dt class="spec type" id="type-view"><a href="#type-view" class="anchor"></a><code><span class="keyword">type </span>view</code><code><span class="keyword"> = </span><span class="keyword">private </span></code><table class="variant"><tr id="type-view.Empty" class="anchored"><td class="def constructor"><a href="#type-view.Empty" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Empty</span></code></td></tr><tr id="type-view.Text" class="anchored"><td class="def constructor"><a href="#type-view.Text" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Text</span><span class="keyword"> of </span>string list</code></td></tr><tr id="type-view.Frame" class="anchored"><td class="def constructor"><a href="#type-view.Frame" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Frame</span><span class="keyword"> of </span><a href="index.html#type-t">t</a></code></td></tr><tr id="type-view.Pad" class="anchored"><td class="def constructor"><a href="#type-view.Pad" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Pad</span><span class="keyword"> of </span><a href="index.html#type-position">position</a><span class="keyword"> * </span><a href="index.html#type-t">t</a></code></td></tr><tr id="type-view.Grid" class="anchored"><td class="def constructor"><a href="#type-view.Grid" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Grid</span><span class="keyword"> of </span>[ `Bars<span class="keyword"> | </span>`None ]<span class="keyword"> * </span><a href="index.html#type-t">t</a> array array</code></td></tr><tr id="type-view.Tree" class="anchored"><td class="def constructor"><a href="#type-view.Tree" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Tree</span><span class="keyword"> of </span>int<span class="keyword"> * </span><a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a> array</code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-view"><a href="#val-view" class="anchor"></a><code><span class="keyword">val </span>view : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-view">view</a></code></dt><dd><p>Observe the content of the box.</p><dl><dt>since</dt><dd>0.2</dd></dl></dd></dl><aside><p>A box, either empty, containing directly text, or a table or tree of sub-boxes</p></aside><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val </span>empty : <a href="index.html#type-t">t</a></code></dt><dd><p>Empty box, of size 0</p></dd></dl><dl><dt class="spec value" id="val-line"><a href="#val-line" class="anchor"></a><code><span class="keyword">val </span>line : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Make a single-line box.</p><dl><dt>raises Invalid_argument</dt><dd><p>if the string contains <code>'\n'</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-text"><a href="#val-text" class="anchor"></a><code><span class="keyword">val </span>text : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Any text, possibly with several lines</p></dd></dl><dl><dt class="spec value" id="val-sprintf"><a href="#val-sprintf" class="anchor"></a><code><span class="keyword">val </span>sprintf : (<span class="type-var">'a</span>, Buffer.t, unit, <a href="index.html#type-t">t</a>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Formatting for <a href="index.html#val-text"><code>text</code></a></p></dd></dl><dl><dt class="spec value" id="val-asprintf"><a href="#val-asprintf" class="anchor"></a><code><span class="keyword">val </span>asprintf : (<span class="type-var">'a</span>, Format.formatter, unit, <a href="index.html#type-t">t</a>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Formatting for <a href="index.html#val-text"><code>text</code></a>.</p><dl><dt>since</dt><dd>0.2</dd></dl></dd></dl><dl><dt class="spec value" id="val-lines"><a href="#val-lines" class="anchor"></a><code><span class="keyword">val </span>lines : string list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Shortcut for <a href="index.html#val-text"><code>text</code></a>, with a list of lines. <code>lines l</code> is the same as <code>text (String.concat &quot;\n&quot; l)</code>.</p></dd></dl><dl><dt class="spec value" id="val-int_"><a href="#val-int_" class="anchor"></a><code><span class="keyword">val </span>int_ : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-bool_"><a href="#val-bool_" class="anchor"></a><code><span class="keyword">val </span>bool_ : bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-float_"><a href="#val-float_" class="anchor"></a><code><span class="keyword">val </span>float_ : float <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">val </span>int : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>since</dt><dd>0.2</dd></dl></dd></dl><dl><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val </span>bool : bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>since</dt><dd>0.2</dd></dl></dd></dl><dl><dt class="spec value" id="val-float"><a href="#val-float" class="anchor"></a><code><span class="keyword">val </span>float : float <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>since</dt><dd>0.2</dd></dl></dd></dl><dl><dt class="spec value" id="val-frame"><a href="#val-frame" class="anchor"></a><code><span class="keyword">val </span>frame : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Put a single frame around the box</p></dd></dl><dl><dt class="spec value" id="val-pad"><a href="#val-pad" class="anchor"></a><code><span class="keyword">val </span>pad : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Pad the given box with some free space</p></dd></dl><dl><dt class="spec value" id="val-pad'"><a href="#val-pad'" class="anchor"></a><code><span class="keyword">val </span>pad' : col:int <span>&#45;&gt;</span> lines:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Pad with the given number of free cells for lines and columns</p></dd></dl><dl><dt class="spec value" id="val-vpad"><a href="#val-vpad" class="anchor"></a><code><span class="keyword">val </span>vpad : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Pad vertically</p></dd></dl><dl><dt class="spec value" id="val-hpad"><a href="#val-hpad" class="anchor"></a><code><span class="keyword">val </span>hpad : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Pad horizontally</p></dd></dl><dl><dt class="spec value" id="val-grid"><a href="#val-grid" class="anchor"></a><code><span class="keyword">val </span>grid : ?&#8288;pad:(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> ?&#8288;bars:bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> array array <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Grid of boxes (no frame between boxes). The matrix is indexed with lines first, then columns. The array must be a proper matrix, that is, all lines must have the same number of columns!</p><dl><dt>parameter framed</dt><dd><p>if <code>true</code>, each item of the grid will be framed. default value is <code>true</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-grid_text"><a href="#val-grid_text" class="anchor"></a><code><span class="keyword">val </span>grid_text : ?&#8288;pad:(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> ?&#8288;bars:bool <span>&#45;&gt;</span> string array array <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Same as <a href="index.html#val-grid"><code>grid</code></a>, but wraps every cell into a <a href="index.html#val-text"><code>text</code></a> box</p></dd></dl><dl><dt class="spec value" id="val-transpose"><a href="#val-transpose" class="anchor"></a><code><span class="keyword">val </span>transpose : <span class="type-var">'a</span> array array <span>&#45;&gt;</span> <span class="type-var">'a</span> array array</code></dt><dd><p>Transpose a matrix</p></dd></dl><dl><dt class="spec value" id="val-init_grid"><a href="#val-init_grid" class="anchor"></a><code><span class="keyword">val </span>init_grid : ?&#8288;bars:bool <span>&#45;&gt;</span> line:int <span>&#45;&gt;</span> col:int <span>&#45;&gt;</span> (line:int <span>&#45;&gt;</span> col:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Same as <a href="index.html#val-grid"><code>grid</code></a> but takes the matrix as a function</p></dd></dl><dl><dt class="spec value" id="val-vlist"><a href="#val-vlist" class="anchor"></a><code><span class="keyword">val </span>vlist : ?&#8288;pad:(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> ?&#8288;bars:bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Vertical list of boxes</p></dd></dl><dl><dt class="spec value" id="val-hlist"><a href="#val-hlist" class="anchor"></a><code><span class="keyword">val </span>hlist : ?&#8288;pad:(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> ?&#8288;bars:bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Horizontal list of boxes</p></dd></dl><dl><dt class="spec value" id="val-grid_map"><a href="#val-grid_map" class="anchor"></a><code><span class="keyword">val </span>grid_map : ?&#8288;bars:bool <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> array array <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-vlist_map"><a href="#val-vlist_map" class="anchor"></a><code><span class="keyword">val </span>vlist_map : ?&#8288;bars:bool <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-hlist_map"><a href="#val-hlist_map" class="anchor"></a><code><span class="keyword">val </span>hlist_map : ?&#8288;bars:bool <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tree"><a href="#val-tree" class="anchor"></a><code><span class="keyword">val </span>tree : ?&#8288;indent:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Tree structure, with a node label and a list of children nodes</p></dd></dl><dl><dt class="spec value" id="val-mk_tree"><a href="#val-mk_tree" class="anchor"></a><code><span class="keyword">val </span>mk_tree : ?&#8288;indent:int <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><span class="type-var">'a</span> list) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Definition of a tree with a local function that maps nodes to their content and children</p></dd></dl></section><section><header><h2 id="simple-structural-interface"><a href="#simple-structural-interface" class="anchor"></a>Simple Structural Interface</h2></header><dl><dt class="spec type" id="type-ktree"><a href="#type-ktree" class="anchor"></a><code><span class="keyword">type </span>'a ktree</code><code><span class="keyword"> = </span>unit <span>&#45;&gt;</span> [ `Nil<span class="keyword"> | </span>`Node of <span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-ktree">ktree</a> list ]</code></dt><dt class="spec type" id="type-box"><a href="#type-box" class="anchor"></a><code><span class="keyword">type </span>box</code><code><span class="keyword"> = </span><a href="index.html#type-t">t</a></code></dt></dl><div class="spec module" id="module-Simple"><a href="#module-Simple" class="anchor"></a><code><span class="keyword">module </span><a href="Simple/index.html">Simple</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>